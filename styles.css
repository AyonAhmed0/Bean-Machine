*{box-sizing:border-box}
:root{
  --bg:#0b0b0d;
  --bg-elev:#141418;
  --panel:#151519;
  --panel-soft:#1d1d23;
  --muted:#b5a16a;
  --text:#f6f1de;
  --cream:#f8e6a8;
  --primary:#d4af37;
  --primary-2:#9c7d20;
  --accent:#f0c95b;
  --danger:#ff5c7a;
  --ok:#27ae60;
  --border:#5f4c1e;
  --chip:#242017;
  --shadow:0 16px 40px rgba(8,4,3,.45), 0 4px 14px rgba(0,0,0,.35);
}

body.theme-black-gold{
  --bg:#0b0b0d;
  --bg-elev:#141418;
  --panel:#151519;
  --panel-soft:#1d1d23;
  --muted:#b5a16a;
  --text:#f6f1de;
  --cream:#f8e6a8;
  --primary:#d4af37;
  --primary-2:#9c7d20;
  --accent:#f0c95b;
  --border:#5f4c1e;
  --chip:#242017;
}

body.theme-coffee{
  --bg:#1d130f;
  --bg-elev:#2a1b15;
  --panel:#2b1d16;
  --panel-soft:#38261d;
  --muted:#c8ae95;
  --text:#f9ebdc;
  --cream:#f5e5d0;
  --primary:#a76833;
  --primary-2:#7b4a25;
  --accent:#d6a56b;
  --border:#5f3f2e;
  --chip:#3a291f;
}

body.theme-light{
  --bg:#f4efe6;
  --bg-elev:#ffffff;
  --panel:#fffdfa;
  --panel-soft:#f4ede2;
  --muted:#6d5c46;
  --text:#1f1b14;
  --cream:#4a3521;
  --primary:#8a5a2b;
  --primary-2:#6f4520;
  --accent:#b5742f;
  --border:#d8c6ae;
  --chip:#eadfce;
  --shadow:0 12px 28px rgba(72,49,25,.14), 0 2px 8px rgba(0,0,0,.08);
}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 650px at 8% -15%, #2b2412 0%, transparent 60%),
              radial-gradient(900px 550px at 110% 12%, #19160d 0%, transparent 55%),
              var(--bg);
  color:var(--text);
  font:18px/1.65 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
  letter-spacing:.15px;
}
.app-header,.app-footer{
  display:flex;align-items:center;justify-content:space-between;padding:16px 20px;
  background:linear-gradient(180deg, rgba(255,238,214,.07), rgba(255,238,214,.01));
  border-bottom:1px solid var(--border);
  backdrop-filter: blur(8px) saturate(105%);
}
.app-header h1{font-size:18px;margin:0;font-weight:700;color:var(--cream);text-shadow:0 2px 10px rgba(0,0,0,.35)}
.app-footer{border-top:1px solid var(--border);border-bottom:none;justify-content:center;color:var(--muted)}
.container{max-width:1140px;margin:0 auto;padding:22px;display:grid;gap:18px}
.panel{
  background:linear-gradient(180deg, rgba(212,175,55,.10), rgba(28,28,34,.92));
  border:1px solid var(--border);
  border-radius:16px;
  padding:18px;
  box-shadow:var(--shadow);
}
.panel h2{margin:0 0 12px;font-size:16px;color:var(--cream);font-weight:700;letter-spacing:.35px}
.header-actions{display:flex;gap:10px;flex-wrap:wrap}
.theme-switcher{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:13px;font-weight:700;white-space:nowrap;flex-wrap:nowrap}
.theme-select{width:auto;padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#0f1014;color:var(--text);font-weight:600;cursor:pointer}
.theme-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(214,165,107,.22)}

.btn{background:linear-gradient(180deg,#f3dd98,#d7b44b);color:#1b1b1f;border:1px solid #b8942f;padding:11px 15px;border-radius:12px;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px rgba(0,0,0,.25), 0 2px 4px rgba(0,0,0,.15);font-weight:700;letter-spacing:.2px}
.btn:hover{background:linear-gradient(180deg,#f7e5ab,#e1c05e);transform:translateY(-2px);box-shadow:0 8px 18px rgba(0,0,0,.28), 0 3px 8px rgba(0,0,0,.2);border-color:#d4af37}
.btn:active{transform:translateY(0);box-shadow:0 2px 6px rgba(0,0,0,.18), 0 1px 2px rgba(0,0,0,.12)}
.btn-primary{background:linear-gradient(180deg,var(--primary),var(--primary-2));border-color:#7d651a;color:#111217;box-shadow:0 4px 15px rgba(212,175,55,.35), 0 2px 6px rgba(0,0,0,.3)}
.btn-primary:hover{background:linear-gradient(180deg,#e5c45a,#b8922d);box-shadow:0 8px 22px rgba(212,175,55,.45), 0 3px 8px rgba(0,0,0,.32)}
.btn-danger{background:linear-gradient(180deg, #ff6b6b, #ff4757);border-color:#d63031; box-shadow: 0 4px 15px rgba(255,107,107,0.35), 0 2px 6px rgba(0,0,0,0.2)}
.btn-danger:hover{background:linear-gradient(180deg, #ff7b7b, #ff5a67); transform:translateY(-2px); box-shadow: 0 6px 20px rgba(255,107,107,0.45), 0 3px 8px rgba(0,0,0,0.25)}

.add-item .grid{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:12px}
.add-item input{width:100%;padding:12px 12px;border-radius:12px;border:1px solid var(--border);background:#0f1014;color:var(--text);box-shadow: inset 0 1px 0 rgba(255,255,255,.06)}
.add-item input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(214,165,107,.24)}
.add-item label{display:flex;flex-direction:column;gap:8px;color:var(--muted);font-size:13px}
.add-item .actions{display:flex;align-items:flex-end}


.quick-menu .chip-list{display:flex;flex-wrap:wrap;gap:10px}
.chip{background:linear-gradient(180deg,#26262d,#18181e);color:#f3e6bc;border:1px solid var(--border);padding:8px 12px;border-radius:999px;cursor:pointer;transition:transform .08s ease, filter .18s ease, background .25s, box-shadow .2s, border-color .2s}
.chip:hover{background:#2f3038;filter:brightness(1.05);box-shadow:0 6px 14px rgba(0,0,0,.45);border-color:#d4af37}
.chip:active{transform:scale(.98);box-shadow:0 2px 6px rgba(45,26,16,.4)}
.chip.selected{animation: pulse 0.3s ease-in-out;box-shadow:0 0 0 2px rgba(214,165,107,.45), 0 0 16px rgba(214,165,107,.35)}
@keyframes pulse{0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)}}

.table-wrap{overflow:auto}
table{width:100%;border-collapse:separate;border-spacing:0}
th,td{border-bottom:1px solid var(--border);padding:10px 10px;text-align:left}
th{color:#f2cd63;font-weight:700;font-size:13px;letter-spacing:.25px}
tr.empty td{color:var(--muted);text-align:center;padding:22px}
.qty-input{width:78px;padding:8px;border-radius:10px;border:1px solid var(--border);background:#0f1014;color:var(--text)}
.price{color:#f3cfa4;font-weight:600}
.total{color:#c3efcd;font-weight:700}
select{width:100%;padding:10px;border-radius:12px;border:1px solid var(--border);background:#0f1014;color:var(--text);cursor:pointer}
select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(214,165,107,.22)}
.row-actions button{background:linear-gradient(180deg,#f3dd98,#d7b44b);color:#1b1b1f;border:1px solid #b8942f;padding:8px 10px;border-radius:10px;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px rgba(0,0,0,.22), 0 1px 3px rgba(0,0,0,.15);font-weight:700}
.row-actions button:hover{background:linear-gradient(180deg,#f7e5ab,#e1c05e);transform:translateY(-1px);box-shadow:0 3px 10px rgba(0,0,0,.25), 0 2px 4px rgba(0,0,0,.18);border-color:#d4af37}
.row-actions button:active{transform:translateY(0); box-shadow: 0 1px 4px rgba(0,0,0,0.15), 0 1px 2px rgba(0,0,0,0.1)}

.totals .totals-grid{display:grid;gap:12px;grid-template-columns:1fr 1fr}
.totals .row{display:flex;align-items:center;justify-content:space-between;gap:10px;background:linear-gradient(180deg,#1c1c23,#14141a);border:1px solid var(--border);border-radius:12px;padding:10px 12px}
.totals .row.final{background:linear-gradient(180deg,#25262f,#191a21);border-color:#d4af37}
.totals input{width:140px;padding:10px;border-radius:12px;border:1px solid var(--border);background:#0f1014;color:var(--text)}
.note{margin-top:8px;color:var(--muted)}

/* Screen reader only text */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

.only-print{display:none}

/* Date input calendar icon: force white icon and space for it */
input[type="date"]{padding-right:28px}

/* WebKit browsers (Chrome/Edge/Safari) */
input[type="date"]::-webkit-calendar-picker-indicator{
  filter: invert(1) brightness(1.2); /* render icon white on dark bg */
  opacity: .95;
  cursor: pointer;
}
input[type="date"]::-webkit-inner-spin-button,
input[type="date"]::-webkit-clear-button{display:none}

/* Firefox: keep consistent appearance; icon is system-provided */
@supports (-moz-appearance: none){
  input[type="date"]{-moz-appearance:textfield}
}

@media (max-width: 760px){
  body{font-size:16px}
  .app-header h1{font-size:18px}
  .container{padding:15px}
  .panel{padding:12px}
  .panel h2{font-size:14px}
  .add-item .grid{grid-template-columns:1fr 1fr;gap:8px}
  .add-item .actions{grid-column:1 / -1;margin-top:8px}
  .add-item input, .add-item label{font-size:14px}
  .add-item input{padding:10px}
  .quick-menu .chip-list{justify-content:center}
  .chip{font-size:13px;padding:6px 10px}
  .qm-group h3{font-size:14px;margin-bottom:8px}
  .table-wrap{overflow-x:auto}
  table{font-size:14px}
  th,td{padding:8px 6px}
  .qty-input{width:60px;padding:6px}
  .row-actions button{font-size:12px;padding:6px 8px}
  .totals .totals-grid{grid-template-columns:1fr;gap:8px}
  .totals .row{padding:8px 10px;font-size:14px}
  .totals input{width:100%;font-size:14px}
  .btn{font-size:14px;padding:8px 12px}
  .header-actions{flex-wrap:wrap;gap:8px}
  .theme-switcher{width:auto;justify-content:flex-start}
}

body.theme-light .app-header,
body.theme-light .app-footer{
  background:linear-gradient(180deg, rgba(181,116,47,.09), rgba(181,116,47,.03));
}
body.theme-light .panel{
  background:linear-gradient(180deg, rgba(181,116,47,.07), rgba(255,255,255,.95));
}
body.theme-light .chip{
  background:linear-gradient(180deg,#f2e5d4,#e7d8c3);
  color:#2a1e12;
}
body.theme-light .chip:hover{background:#efdfcc}
body.theme-light .add-item input,
body.theme-light .totals input,
body.theme-light select,
body.theme-light .qty-input,
body.theme-light .theme-select{background:#fffefb;color:#2a1e12}
body.theme-light .btn{color:#1f1b14}

@media print{
  body{background:#fff;color:#000;font:12px/1.4 sans-serif}
  .app-header,.app-footer,.add-item,.quick-menu,.totals{display:none}
  .only-print{display:block}
  .panel{border:none;box-shadow:none}
  table th, table td{border-color:#ddd;color:#000}
  .price,.total{color:#000}
  .receipt-content{text-align:center;max-width:300px;margin:0 auto}
  .receipt-table{width:100%;border-collapse:collapse;margin:10px 0}
  .receipt-table th, .receipt-table td{border:1px solid #000;padding:5px;text-align:left}
  .item-col{text-align:left}
  .qty-col, .price-col, .total-col, .amount-col{text-align:right}
  .label-col{text-align:right;font-weight:normal}
  .grand-total{font-weight:bold;border-top:2px solid #000}
  .receipt-footer{margin-top:15px;font-size:11px}
}

/* Recipe Modal Styles */
.recipe-item{margin-bottom:20px}
.recipe-item h4{color:var(--accent);margin:8px 0 12px;font-size:16px;border-bottom:1px solid var(--border);padding-bottom:4px}
.recipe-variant{background:linear-gradient(180deg,#1d1e26,#15161d);border:1px solid var(--border);border-radius:8px;padding:8px 12px;margin:4px 0;font-family:monospace;font-size:14px;color:#f6e6b8}

/* Package Modal Styles */
.package-section{margin-bottom:30px}
.package-section h3{color:var(--accent);margin:0 0 15px;font-size:18px;border-bottom:2px solid var(--border);padding-bottom:8px}
.package-item{margin-bottom:20px;padding:15px;background:linear-gradient(180deg,#1d1e26,#15161d);border:1px solid var(--border);border-radius:10px}
.package-item h4{color:var(--cream);margin:0 0 10px;font-size:16px;font-weight:700}
.package-contents{display:flex;flex-direction:column;gap:6px}
.package-contents div{color:#e3cab0;font-size:14px;padding:4px 0}
